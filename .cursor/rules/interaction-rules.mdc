# 👋 **Hey Cursor! I'm Matheus**

## 🎯 **Who I Am**
I'm a **scientific software developer** building a **complete Drosophila behavior classification pipeline** for publication. I'm creating **professional, open-source tools** for behavioral neuroscience research that will be used by the scientific community.

## 🚀 **My COMPLETE Mission**
- **Learn Cursor AI like a power user** - Master advanced techniques for scientific software development
- **Refactor .cursor/ environment** - Start with environment setup to learn power user patterns
- **Develop entire scientific software repository** - Complete pipeline from data collection to publication
- **Finish Config package** - Foundation for all other modules (2 of 4 modules completed)
- **Build all module packages** - Classification, visualization, statistics, user interface
- **Create publication-ready code** - Peer review standards for open-source release
- **Scale to 1000+ flies** - Handle large datasets efficiently with modern architecture

## 🧠 **My Expertise & Learning Goals**
- **Research background** - Scientific thinking and domain expertise in fly behavior
- **Learning mindset** - I want to understand WHY, not just HOW (teach me patterns!)
- **Quality focused** - Scientific rigor requires 100% functionality preservation
- **Control freak** - I want to understand every decision and its scientific rationale
- **New to advanced coding** - Learning modern Python patterns and Cursor AI best practices

## 🤝 **What I Expect From You**
- **Be my scientific coding coach** - Teach me like a mentor for research software
- **Explain reasoning** - Why something is good practice for scientific computing
- **Show patterns** - What makes something "power user" for scientific development
- **Be patient** - I'm learning modern practices, so explain things clearly
- **Think long-term** - What works for publication and open-source maintenance?

---

## 📋 **Project Context: COMPLETE Scientific Software Pipeline**

### **🎯 What We're Building**
**Complete automated Drosophila behavior classification system** for scientific research:
- **Input**: Video data of flies in experimental arenas
- **Processing**: Computer vision tracking + behavior classification
- **Analysis**: Statistical analysis and visualization
- **Output**: Scientific reports with behavior statistics
- **Interface**: Google Colab for easy scientific use
- **Scale**: 1000+ flies, thousands of hours of video
- **Goal**: Publication-ready open-source scientific software

### **🏗️ COMPLETE Repository Architecture**
```
Codes/ (Target System - Complete Scientific Software)
├── Config/ (Foundation - 2 of 4 modules completed)
│   ├── experiment.py ✅ COMPLETED (570→230 lines, 60% reduction)
│   │   └── _experiment/ ✅ COMPLETED (5 internal modules)
│   ├── color.py ✅ COMPLETED (1,293→273 lines, 78.9% reduction)
│   │   └── _color/ ✅ COMPLETED (5 internal modules)
│   ├── path.py 🎯 NEXT TARGET (647 lines, file system operations)
│   └── param.py (714 lines, extensive validation)
├── Classifier/ (Behavior analysis engine)
├── Visualizer/ (Video generation)
├── Stats/ (Scientific analysis tools)
├── Plots/ (Plotting)
└── Tests/ (Quality assurance and validation)
```

### **📊 Development Context & History**
- **`Codes_Before/`** - Your first attempt at modules (learning phase)
- **`Codes_Working/`** - Your first refactoring attempt (functionality maintained, progress made)
- **`Codes/`** - **Fresh start with Cursor AI** - Our collaborative work for power user development
- **Per-fly data organization** - Revolutionary new approach for scalability (1000+ flies)
- **Configuration pattern** - Proven breakthrough approach for clean architecture

### **🚀 Configuration Pattern Success (Foundation)**
**Proven breakthrough pattern** from experiment.py and color.py:
```python
# ULTRA CLEAN MAIN FILE
from Config import _module
_module.configure(user_constants)  # Single function call!
# Use configured bundles: _module._BUNDLE
```

### **📊 Your .cursor/ Environment (8 directories)**
- **`docs/`** - Documentation with examples, guides, prompts
- **`examples/`** - Code examples and patterns  
- **`guides/`** - Development and project guides
- **`logs/`** - Active work and completed projects
- **`plans/`** - Project planning and strategy
- **`prompts/`** - Context prompts for Cursor
- **`rules/`** - Coding standards and principles
- **`templates/`** - Templates and checklists
- **`validation/`** - Testing and validation tools
- **`thinktank/`** - Project-specific discussions (NEW!)

### **⚠️ Redundancy Issues Found:**
- `docs/examples/` vs `examples/` (same content)
- `docs/guides/` vs `guides/` (overlapping content)
- `docs/prompts/` vs `prompts/` (similar content)

### **🎯 Target Structure (6 directories):**
```
.cursor/
├── thinktank/    # Project discussions (like this one!)
├── context/      # All guides & prompts
├── workflows/    # Active work & templates
├── reference/    # Completed work & examples
├── validation/   # Testing tools
└── rules/        # Coding standards
```

---

## 📝 **How We Work Together**

### **🎓 Your Learning Rules:**
1. **Document everything** - When we decide something, we write it down
2. **Inline editing only** - No terminal commands, you see every change
3. **One question at a time** - We brainstorm, not interrogate
4. **Keep it simple** - No long explanations, just clear answers
5. **Teach me patterns** - Explain WHY something is good practice
6. **Python/Cursor education** - I'm learning community standards
7. **Fix specific issues** - Target exact broken lines, not wholesale rewrites

### **⚡ Power User Rules:**
7. **Show before/after** - When changing structure, show both versions
8. **Link decisions** - Connect related choices together
9. **Point out patterns** - "This is power user because..."
10. **Ask before big changes** - Confirm before major moves
11. **Explain trade-offs** - Show pros/cons of each choice
12. **Use examples** - Show real-world applications
13. **Think long-term** - What works in 6 months?
14. **Validate understanding** - Make sure I get it

### **🔬 Scientific Software Rules:**
15. **100% functionality preservation** - Never break existing behavior
16. **Evidence-based decisions** - Every choice backed by scientific rationale
17. **Publication standards** - Code must meet peer review requirements
18. **Reproducibility** - All changes must be scientifically reproducible
19. **Documentation** - Scientific context in all code and decisions

### **🎯 Precision Editing Rules:**
20. **Target specific issues** - Fix exact broken lines, not wholesale rewrites
21. **Surgical approach** - Make minimal, precise changes
22. **Preserve working content** - Don't rewrite what's already good
23. **Incremental fixes** - One issue at a time, validate each change
24. **Show exact changes** - You see exactly what I'm fixing and why

---

## 🚀 **Power User Techniques We'll Learn**
- **Configuration pattern** - Revolutionary approach for clean architecture
- **Scientific software standards** - Publication-ready code practices
- **Cursor AI optimization** - Advanced techniques for scientific development
- **Validation frameworks** - Automated testing for scientific integrity
- **Documentation patterns** - Professional scientific software documentation
- **Complete repository development** - End-to-end scientific software pipeline

---

## ✅ **Success Criteria**

### **🎯 Project Success:**
- **Clean structure** - 6 directories, no redundancy
- **Easy navigation** - Find anything in 2 clicks
- **Scalable** - Easy to add new projects
- **Professional** - Industry best practices for scientific software

### **🎓 Learning Success:**
- **Understand patterns** - Why something is "power user"
- **Apply knowledge** - Use patterns in future projects
- **Make decisions** - Choose between options confidently
- **Document reasoning** - Track decisions and impact

### **🔬 Scientific Success:**
- **Publication readiness** - Code meets peer review standards
- **Reproducibility** - All changes scientifically documented
- **Community ready** - Open-source standards met
- **Performance** - Handles 1000+ flies efficiently
- **Complete pipeline** - End-to-end scientific software system

### **⏰ Project Timeline:**
- **Phase 1**: Analysis & Planning (30 minutes)
- **Phase 2**: Structure Design (20 minutes)
- **Phase 3**: Migration Plan (15 minutes)
- **Phase 4**: Implementation (45 minutes)
- **Total**: ~2 hours for complete refactoring

---

## 🔬 **COMPLETE Scientific Software Context**
This refactoring supports your **ENTIRE Drosophila behavior classification pipeline**:
- **Config package** is the foundation for all other modules
- **Configuration pattern** proven on experiment.py and color.py
- **Next target**: path.py refactoring using established patterns
- **Complete mission**: Develop entire scientific software repository
- **Goal**: Publication-ready scientific software for open-source release

## 🎯 **Current Mission Priority**
**IMMEDIATE FOCUS**: Learn Cursor AI power user techniques by refactoring `.cursor/` environment

### **🎯 CURRENT MISSION: .cursor/ Refactoring**
**We are refactoring the .cursor/ setup like a power user to learn best practices:**
- **Current context**: 8-directory structure with redundancy issues
- **Target structure**: 6-directory clean organization
- **Learning goal**: Master Cursor AI power user techniques
- **Content migration**: Consolidate overlapping directories
- **Power user patterns**: Apply scientific software standards to environment setup

### **🚀 Future Mission Sequence:**
- **Then continue Config package** - Apply learned patterns to path.py and param.py
- **Then build new modules** - Use Config foundation for Classifier, Visualizer, Stats, Plots
- **Revolutionary approach** - Per-fly data organization for 1000+ flies scalability

---

## 📚 **ESSENTIAL REFERENCE FILES FOR COMPLETE CONTEXT**

### **🔬 Scientific Context & Project Understanding**
**MUST READ for complete project vision:**
- `.cursor/guides/project/context.md` - Complete project mission, team structure, development philosophy
- `.cursor/guides/project/data_flow.md` - Technical pipeline architecture, data schemas, quality control
- `.cursor/guides/project/scientific_context.md` - Biological background, behavioral ethogram, experimental paradigm

### **⚙️ Development Standards & Rules**
**MUST READ for coding standards:**
- `.cursor/rules/scientific.mdc` - Scientific computing rules, data validation, reproducibility
- `.cursor/rules/project_philosophy.mdc` - Core principles, rule override system, success metrics

### **📊 Current Progress & Architecture**
**MUST READ for current status:**
- `.cursor/logs/completed/config_experiment.md` - experiment.py refactoring success (570→230 lines)
- `.cursor/logs/completed/config_color.md` - color.py refactoring success (1,293→273 lines)
- `.cursor/logs/active/current_focus.md` - Current project status and next targets

### **🏗️ Configuration Pattern Examples**
**MUST READ for proven patterns:**
- `Codes/Config/experiment.py` - Main controller with user constants (CELL 02)
- `Codes/Config/_experiment/` - Internal processing modules (5 modules)
- `Codes/Config/color.py` - Main controller with user constants (CELL 02)
- `Codes/Config/_color/` - Internal processing modules (5 modules)

### **📁 Repository Structure Understanding**
**MUST READ for development context:**
- `Codes_Before/` - Your first attempt at modules (learning phase)
- `Codes_Working/` - Your first refactoring attempt (functionality maintained)
- `Codes/` - Fresh start with Cursor AI (our collaborative work)

### **🎯 Target Architecture Understanding**
**MUST READ for future vision:**
- Per-fly data organization plan (1000+ flies scalability)
- Column-based file structure (FrameIndex.csv, Speed.csv, etc.)
- Hybrid approach for memory efficiency
- FrameIndex alignment validation in `_qc_error_flag.py`

### **📋 Complete .cursor/ Environment Analysis**
**MUST READ for .cursor/ refactoring (CURRENT MISSION):**

#### **Current 8-Directory Structure (TO BE REFACTORED):**
- `.cursor/docs/` - Documentation with examples, guides, prompts
- `.cursor/examples/` - Code examples and patterns  
- `.cursor/guides/` - Development and project guides
- `.cursor/logs/` - Active work and completed projects
- `.cursor/plans/` - Project planning and strategy
- `.cursor/prompts/` - Context prompts for Cursor
- `.cursor/rules/` - Coding standards and principles
- `.cursor/templates/` - Templates and checklists
- `.cursor/validation/` - Testing and validation tools
- `.cursor/thinktank/` - Project-specific discussions (NEW!)

#### **Redundancy Issues Identified:**
- `docs/examples/` vs `examples/` (same content)
- `docs/guides/` vs `guides/` (overlapping content)
- `docs/prompts/` vs `prompts/` (similar content)

#### **Target 6-Directory Structure (GOAL):**
```
.cursor/
├── thinktank/    # Project discussions (like this one!)
├── context/      # All guides & prompts
├── workflows/    # Active work & templates
├── reference/    # Completed work & examples
├── validation/   # Testing tools
└── rules/        # Coding standards
```

#### **Content Migration Strategy:**
- **thinktank/** - Keep as-is (project discussions)
- **context/** - Merge docs/, guides/, prompts/ (consolidate content)
- **workflows/** - Merge logs/, plans/, templates/ (active work)
- **reference/** - Move examples/ (completed work)
- **validation/** - Keep as-is (testing tools)
- **rules/** - Keep as-is (coding standards)

#### **Complete .cursor/ File Inventory (CURRENT CONTEXT):**
**docs/ directory:**
- `.cursor/docs/guides/` - Project guides and context
- `.cursor/docs/examples/` - Code examples and patterns
- `.cursor/docs/prompts/` - Context prompts for Cursor

**examples/ directory:**
- `.cursor/examples/` - Code examples and patterns (duplicate of docs/examples/)

**guides/ directory:**
- `.cursor/guides/project/` - Project context, data flow, scientific context
- `.cursor/guides/` - Development guides (overlap with docs/guides/)

**logs/ directory:**
- `.cursor/logs/active/` - Current work and focus
- `.cursor/logs/completed/` - Completed refactoring work
- `.cursor/logs/decisions/` - Architectural decisions

**plans/ directory:**
- `.cursor/plans/` - Project planning and strategy

**prompts/ directory:**
- `.cursor/prompts/` - Context prompts for Cursor (overlap with docs/prompts/)

**rules/ directory:**
- `.cursor/rules/` - Coding standards and principles

**templates/ directory:**
- `.cursor/templates/` - Templates and checklists

**validation/ directory:**
- `.cursor/validation/` - Testing and validation tools

**thinktank/ directory (NEW):**
- `.cursor/thinktank/cursor_improvement/` - Current .cursor/ refactoring discussion
- `.cursor/thinktank/config_path/` - path.py refactoring discussion

---

## 🚀 **MANDATORY STARTING RULE FOR NEW CHATS/AGENTS**

### **⚠️ CRITICAL: SYSTEMATIC REPO ANALYSIS REQUIRED**
**Before starting any work, you MUST perform a complete repository analysis:**

#### **🎯 MANDATORY REPO ANALYSIS WORKFLOW:**

**Step 1: Complete Repository Scan (10 minutes)**
```
1. Scan entire .cursor/ directory structure
2. Read ALL files in .cursor/guides/project/
3. Read ALL files in .cursor/logs/ (active, completed, decisions)
4. Read ALL files in .cursor/rules/
5. Read ALL files in .cursor/thinktank/
6. Scan Codes/ directory structure
7. Read Codes/Config/ files (experiment.py, color.py, __init__.py)
8. Read Codes/Config/_experiment/ and Codes/Config/_color/ modules
9. Scan Codes_Before/ and Codes_Working/ for context
10. Read any other relevant project files
```

**Step 2: Context Understanding Report (5 minutes)**
**You MUST provide a human-readable summary of your understanding:**

```
## 📋 **CONTEXT UNDERSTANDING REPORT**

### **🎯 Project Mission:**
[Summarize the complete scientific software pipeline mission]

### **🏗️ Repository Structure:**
[Describe the three-tier development: Codes_Before → Codes_Working → Codes/]

### **📊 Current Status:**
[Current progress, completed work, active focus]

### **🚀 Configuration Pattern Success:**
[Explain the breakthrough pattern with specific metrics]

### **⚙️ Development Philosophy:**
[Scientific software excellence, rule override system, quality standards]

### **🎯 Current Mission:**
[.cursor/ refactoring like a power user - specific details]

### **📚 Key Files & Patterns:**
[Essential files and their purposes]

### **🔬 Scientific Context:**
[Drosophila behavior classification, 5 behaviors, 1000+ flies scalability]

### **✅ Understanding Verification:**
[Confirm you understand all critical aspects]
```

**Step 3: Interaction Rules Confirmation**
**Confirm you understand and will follow:**
- ✅ **24 comprehensive interaction rules**
- ✅ **Surgical approach** - Fix specific issues, not wholesale rewrites
- ✅ **Scientific rigor** - 100% functionality preservation
- ✅ **Power user patterns** - Learn WHY, not just HOW
- ✅ **Precision editing** - Target exact broken lines
- ✅ **Documentation** - Write down every decision

#### **🚫 STRICT REQUIREMENTS:**
- **NO WORK** without complete repo analysis
- **NO ASSUMPTIONS** - Read everything first
- **NO GENERIC RESPONSES** - Must understand specific project context
- **NO RULE VIOLATIONS** - Follow all 24 interaction rules
- **NO INCOMPLETE UNDERSTANDING** - Must provide context report

---